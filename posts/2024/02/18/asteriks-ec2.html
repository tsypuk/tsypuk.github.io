<!doctype html><html lang="en" ><head> <script async src="https://www.googletagmanager.com/gtag/js?id=G-LXECFRDHS1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-LXECFRDHS1'); </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="Open Sourced VoIP telephony Asterisk installation on AWS EC2 instance | by Roman Tsypuk" /><meta name="author" content="Roman Tsypuk" /><meta property="og:locale" content="en" /><meta name="description" content="Asterisk is an open-source PBX (Private Branch Exchange) software that can be used to build a VoIP system. In this post, we will walk through the process of building Asterisk from sources and installing it on an Amazon EC2 instance." /><meta property="og:description" content="Asterisk is an open-source PBX (Private Branch Exchange) software that can be used to build a VoIP system. In this post, we will walk through the process of building Asterisk from sources and installing it on an Amazon EC2 instance." /><meta property="twitter:description" content="Asterisk is an open-source PBX (Private Branch Exchange) software that can be used to build a VoIP system. In this post, we will walk through the process of building Asterisk from sources and installing it on an Amazon EC2 instance." /><link rel="canonical" href="https://tsypuk.github.io/posts/2024/02/18/asteriks-ec2.html" /><meta property="og:url" content="https://tsypuk.github.io/posts/2024/02/18/asteriks-ec2.html" /><meta property="og:site_name" content="Engineerâ€™s Notes | Roman Tsypuk" /><meta property="og:image" content="https://tsypuk.github.io/images/banners/1200/pexels-panumas-nikhomkhai-17636234.jpeg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-02-18T16:00:00+02:00" /><meta name="publish_date" property="og:publish_date" content="2024-02-18T16:00:00+02:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://tsypuk.github.io/images/banners/1200/pexels-panumas-nikhomkhai-17636234.jpeg" /><meta property="twitter:title" content="Open Sourced VoIP telephony Asterisk installation on AWS EC2 instance | by Roman Tsypuk" /><meta name="twitter:site" content="@roman_tsypuk" /><meta name="twitter:creator" content="@roman_tsypuk" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Roman Tsypuk"},"dateModified":"2024-02-25T18:38:06+02:00","datePublished":"2024-02-18T16:00:00+02:00","description":"Asterisk is an open-source PBX (Private Branch Exchange) software that can be used to build a VoIP system. In this post, we will walk through the process of building Asterisk from sources and installing it on an Amazon EC2 instance.","headline":"Open Sourced VoIP telephony Asterisk installation on AWS EC2 instance","image":"https://tsypuk.github.io/images/banners/1200/pexels-panumas-nikhomkhai-17636234.jpeg","mainEntityOfPage":{"@type":"WebPage","@id":"https://tsypuk.github.io/posts/2024/02/18/asteriks-ec2.html"},"url":"https://tsypuk.github.io/posts/2024/02/18/asteriks-ec2.html"}</script><title>Open Sourced VoIP telephony Asterisk installation on AWS EC2 instance | Engineer's Notes</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Engineer's Notes"><meta name="application-name" content="Engineer's Notes"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-LXECFRDHS1"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-LXECFRDHS1'); }); </script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/images/avatar/rtsypuk.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">Engineer's Notes</a><p class="site-subtitle fst-italic mb-0">Cloud, Infrastructure, Architecture, Networking</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories.html" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags.html" class="nav-link"> <i class="fa-fw fas fa-tag"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archived_posts.html" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/roman_tsypuk.html" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/tsypuk" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/roman_tsypuk" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/roman-tsypuk" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['tsypuk_conf','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>Open Sourced VoIP telephony Asterisk installation on AWS EC2 instance</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link" aria-label="Search"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>Open Sourced VoIP telephony Asterisk installation on AWS EC2 instance</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1708264800" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Feb 18, 2024 </time> </span> <span> Updated <time data-ts="1708879086" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Feb 25, 2024 </time> </span><div class="mt-3 mb-3"> <a href="/images/banners/1200/pexels-panumas-nikhomkhai-17636234.jpeg" class="popup img-link preview-img shimmer"><img src="/images/banners/1200/pexels-panumas-nikhomkhai-17636234.jpeg" alt="Preview Image" width="1200" height="630" loading="lazy"></a></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://www.linkedin.com/in/roman-tsypuk">Roman Tsypuk</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="994 words" > <em>5 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">Open Sourced VoIP telephony Asterisk installation on AWS EC2 instance</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">Open Sourced VoIP telephony Asterisk installation on AWS EC2 instance</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><h2 id="abstract"><span class="me-2">Abstract</span><a href="#abstract" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Asterisk is an open-source PBX (Private Branch Exchange) software that can be used to build a VoIP system. In this post, we will walk through the process of building Asterisk from sources and installing it on an Amazon EC2 instance.</p><p>After following the setup process in future post we will go through <code class="language-plaintext highlighter-rouge">SIP trunk</code> configuration - we will use <code class="language-plaintext highlighter-rouge">AWS Chime</code> as a <code class="language-plaintext highlighter-rouge">SIP Trunkprovider</code>, configure it for outgoing <code class="language-plaintext highlighter-rouge">toll-free</code> numbers and deep dive into service details.</p><h2 id="asterisk-installation"><span class="me-2">Asterisk installation</span><a href="#asterisk-installation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><code class="language-plaintext highlighter-rouge">Asterisk</code> is the core component that has multiple integrations with PSTN, SIP, VoIP, CRM, REST and automations. <code class="language-plaintext highlighter-rouge">Asterisk</code> as SIP server is fully manageable and operable from <code class="language-plaintext highlighter-rouge">CLI</code>, but there are multiple <code class="language-plaintext highlighter-rouge">GUI-based</code> extension that using <code class="language-plaintext highlighter-rouge">Apache http server</code> provide browser-based UI for configuration. One of the most popular is <code class="language-plaintext highlighter-rouge">FreePBX</code>. There are multiple version of each product but not of them are compatible.</p><p>In this install we will use these compatible versions:</p><div class="table-wrapper"><table><thead><tr><th style="text-align: left">Asterisk<th style="text-align: left">FreePBX<tbody><tr><td style="text-align: left">20.6.0<td style="text-align: left">16.0</table></div><h3 id="1-prepare-installation-directory"><span class="me-2">1. Prepare installation directory</span><a href="#1-prepare-installation-directory" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">mkdir</span> <span class="nt">-p</span> /usr/src/asterisk
<span class="nb">cd</span> /usr/src/asterisk
</pre></table></code></div></div><h3 id="2-install-requirements-and-build-tools"><span class="me-2">2. Install requirements and build tools</span><a href="#2-install-requirements-and-build-tools" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Since we will make <code class="language-plaintext highlighter-rouge">Asterisk</code> full setup from sources and build on the machine from the scratch - we will need compiler, libraries and development tools:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>apt-get <span class="nb">install </span>unzip git sox gnupg2 curl libnewt-dev libssl-dev libncurses5-dev subversion libsqlite3-dev build-essential libjansson-dev libxml2-dev libedit-dev uuid-dev subversion <span class="nt">-y</span>
</pre></table></code></div></div><h3 id="3-asterisk-installation"><span class="me-2">3. Asterisk installation</span><a href="#3-asterisk-installation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre><td class="rouge-code"><pre>wget http://downloads.asterisk.org/pub/telephony/asterisk/asterisk-20-current.tar.gz
<span class="nb">tar</span> <span class="nt">-xvzf</span> asterisk-20-current.tar.gz
<span class="nb">cd </span>asterisk-20.6.0/
contrib/scripts/get_mp3_source.sh
contrib/scripts/install_prereq <span class="nb">install</span>

./configure

configure: Menuselect build configuration successfully completed

               .<span class="nv">$$$$$$$$$$$$$$$=</span>..
            .<span class="nv">$7$7</span>..          .7<span class="nv">$$</span>7:.
          .<span class="nv">$$</span>:.                 ,<span class="nv">$7</span>.7
        .<span class="nv">$7</span><span class="nb">.</span>     7<span class="nv">$$$$</span>           .<span class="nv">$$</span>77
     ..<span class="nv">$$</span><span class="nb">.</span>       <span class="nv">$$$$$ </span>           .<span class="nv">$$$7</span>
    ..7<span class="nv">$ </span>  .?.   <span class="nv">$$$$$ </span>  .?.       7<span class="nv">$$$.</span>
   <span class="nv">$.$.</span>   .<span class="nv">$$$7</span><span class="nb">.</span> <span class="nv">$$$$</span>7 .7<span class="nv">$$$.</span>      .<span class="nv">$$$.</span>
 .777.   .<span class="nv">$$$$$$</span>77<span class="nv">$$$77$$$$$7</span><span class="nb">.</span>      <span class="nv">$$$,</span>
 <span class="nv">$$$~</span>      .7<span class="nv">$$$$$$$$$$$$$7</span><span class="nb">.</span>       .<span class="nv">$$$.</span>
.<span class="nv">$$</span>7          .7<span class="nv">$$$$$$$7</span>:          ?<span class="nv">$$$.</span>
<span class="nv">$$$ </span>         ?7<span class="nv">$$$$$$$$$$</span>I        .<span class="nv">$$$7</span>
<span class="nv">$$$ </span>      .7<span class="nv">$$$$$$$$$$$$$$$$</span>      :<span class="nv">$$$.</span>
<span class="nv">$$$ </span>      <span class="nv">$$$$$$</span>7<span class="nv">$$$$$$$$$$$$</span>    .<span class="nv">$$$.</span>
<span class="nv">$$$ </span>       <span class="nv">$$$ </span>  7<span class="nv">$$$7</span>  .<span class="nv">$$$ </span>   .<span class="nv">$$$.</span>
<span class="nv">$$$$</span>             <span class="nv">$$$$</span>7         .<span class="nv">$$$.</span>
7<span class="nv">$$$7</span>            7<span class="nv">$$$$</span>        7<span class="nv">$$</span><span class="err">$</span>
 <span class="nv">$$$$$ </span>                       <span class="nv">$$</span><span class="err">$</span>
  <span class="nv">$$$$</span>7.                       <span class="nv">$$</span>  <span class="o">(</span>TM<span class="o">)</span>
   <span class="nv">$$$$$$$.</span>           .7<span class="nv">$$$$$$</span>  <span class="nv">$$</span>
     <span class="nv">$$$$$$$$$$$$</span>7<span class="nv">$$$$$$$$$.$$$$$$</span>
       <span class="nv">$$$$$$$$$$$$$$$$</span><span class="nb">.</span>

configure: Package configured <span class="k">for</span>:
configure: OS <span class="nb">type</span>  : linux-gnu
configure: Host CPU : x86_64
configure: build-cpu:vendor:os: x86_64 : pc : linux-gnu :
configure: host-cpu:vendor:os: x86_64 : pc : linux-gnu :
</pre></table></code></div></div><p>Choose packages that are needed for setup:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>make menuselect
</pre></table></code></div></div><p>To parallelized build and compilation, first letâ€™s check amount of cpu cores available on machine and based on this factor scale the process:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="nb">nproc
</span>make <span class="nt">-j4</span>
+--------- Asterisk Build Complete <span class="nt">---------</span>+
 + Asterisk has successfully been built, and +
 + can be installed by running:              +
 +                                           +
 +                make <span class="nb">install</span>               +
 +-------------------------------------------+
root@aster-18-freepbx-16:/usr/src/asterisk/asteris

make <span class="nb">install</span>
</pre></table></code></div></div><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>make config
ldconfig
</pre></table></code></div></div><h3 id="4-set-permissions-for-asterisk"><span class="me-2">4. Set permissions for asterisk</span><a href="#4-set-permissions-for-asterisk" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>groupadd asterisk
useradd <span class="nt">-r</span> <span class="nt">-d</span> /var/lib/asterisk <span class="nt">-g</span> asterisk asterisk
usermod <span class="nt">-aG</span> audio,dialout asterisk

<span class="nb">chown</span> <span class="nt">-R</span> asterisk:asterisk /etc/asterisk
<span class="nb">chown</span> <span class="nt">-R</span> asterisk:asterisk /var/<span class="o">{</span>lib,log,spool<span class="o">}</span>/asterisk
<span class="nb">chown</span> <span class="nt">-R</span> asterisk:asterisk /usr/lib/asterisk
</pre></table></code></div></div><h3 id="5-configure-service-and-execution-user"><span class="me-2">5. Configure service and execution user</span><a href="#5-configure-service-and-execution-user" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>nano /etc/default/asterisk
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>AST_USER="asterisk"
AST_GROUP="asterisk"
</pre></table></code></div></div><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>nano /etc/asterisk/asterisk.conf
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>runuser = asterisk ; The user to run as.
rungroup = asterisk ; The group to run as.
</pre></table></code></div></div><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>systemctl restart asterisk
systemctl <span class="nb">enable </span>asterisk
systemctl status asterisk
</pre></table></code></div></div><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="c"># asterisk -rvv</span>

Asterisk 20.6.0, Copyright <span class="o">(</span>C<span class="o">)</span> 1999 - 2022, Sangoma Technologies Corporation and others.
Created by Mark Spencer &lt;markster@digium.com&gt;
Asterisk comes with ABSOLUTELY NO WARRANTY<span class="p">;</span> <span class="nb">type</span> <span class="s1">'core show warranty'</span> <span class="k">for </span>details.
This is free software, with components licensed under the GNU General Public
License version 2 and other licenses<span class="p">;</span> you are welcome to redistribute it under
certain conditions. Type <span class="s1">'core show license'</span> <span class="k">for </span>details.
<span class="o">=========================================================================</span>
Running as user <span class="s1">'asterisk'</span>
Running under group <span class="s1">'asterisk'</span>
Connected to Asterisk 20.6.0 currently running on aster-18-freepbx-16 <span class="o">(</span>pid <span class="o">=</span> 43365<span class="o">)</span>
Unable to <span class="nb">read </span>or write <span class="nb">history </span>file <span class="s1">'/root/.asterisk_history'</span>
aster-18-freepbx-16<span class="k">*</span>CLI&gt;
</pre></table></code></div></div><h2 id="freepbx-installation"><span class="me-2">FreePBX installation</span><a href="#freepbx-installation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>SIP <code class="language-plaintext highlighter-rouge">Asterisk</code> is managed from <code class="language-plaintext highlighter-rouge">CLI</code> but there are additional extension that provide <code class="language-plaintext highlighter-rouge">gui</code>, <code class="language-plaintext highlighter-rouge">FreePbx</code> is among them.</p><h3 id="1-prerequisites-for-installation"><span class="me-2">1. Prerequisites for installation</span><a href="#1-prerequisites-for-installation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>apt <span class="nb">install </span>software-properties-common
add-apt-repository ppa:ondrej/php <span class="nt">-y</span>

Err:4 https://ppa.launchpadcontent.net/ondrej/php/ubuntu lunar Release
  404  Not Found <span class="o">[</span>IP: 185.125.190.80 443]
Hit:5 http://archive.ubuntu.com/ubuntu lunar-security InRelease
Reading package lists... Done
E: The repository <span class="s1">'https://ppa.launchpadcontent.net/ondrej/php/ubuntu lunar Release'</span> does not have a Release file.
N: Updating from such a repository can<span class="s1">'t be done securely, and is therefore disabled by default.
N: See apt-secure(8) manpage for repository creation and user configuration details.
</span></pre></table></code></div></div><h3 id="2-life-hack-to-install-php-on-ubuntu-lunar-version"><span class="me-2">2. Life-hack to install PHP on Ubuntu (lunar-version)</span><a href="#2-life-hack-to-install-php-on-ubuntu-lunar-version" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>To solve this issue manually edit file:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>nano /etc/apt/sources.list.d/ondrej-ubuntu-php-lunar.list
</pre></table></code></div></div><p>change to <code class="language-plaintext highlighter-rouge">jammy main</code>:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>deb https://ppa.launchpadcontent.net/ondrej/php/ubuntu/ jammy main
</pre></table></code></div></div><p>create file:</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>nano /etc/apt/preferences.d/ondrejphp
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>Package: libgd3
Pin: release n=lunar
Pin-Priority: 900
</pre></table></code></div></div><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>apt update
</pre></table></code></div></div><h3 id="3-mariadb-apache-and-php74-installation"><span class="me-2">3. MariaDB, Apache and PHP7.4 installation</span><a href="#3-mariadb-apache-and-php74-installation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>apt <span class="nb">install </span>apache2 mariadb-server libapache2-mod-php7.4 php7.4 php-pear php7.4-cgi php7.4-common php7.4-curl php7.4-mbstring php7.4-gd php7.4-mysql php7.4-bcmath php7.4-zip php7.4-xml php7.4-imap php7.4-json php7.4-snmp
</pre></table></code></div></div><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>wget http://mirror.freepbx.org/modules/packages/freepbx/freepbx-16.0-latest.tgz
<span class="nb">tar</span> <span class="nt">-xvzf</span> freepbx-16.0-latest.tgz
<span class="nb">cd </span>freepbx
apt-get <span class="nb">install </span>nodejs npm <span class="nt">-y</span>
./install <span class="nt">-n</span>
fwconsole ma <span class="nb">install </span>pm2
</pre></table></code></div></div><h3 id="4-patch-apache-and-php"><span class="me-2">4. Patch Apache and PHP</span><a href="#4-patch-apache-and-php" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nb">sed</span> <span class="nt">-i</span> <span class="s1">'s/^\(User\|Group\).*/\1 asterisk/'</span> /etc/apache2/apache2.conf
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s1">'s/AllowOverride None/AllowOverride All/'</span> /etc/apache2/apache2.conf
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s1">'s/\(^upload_max_filesize = \).*/\120M/'</span> /etc/php/7.4/apache2/php.ini
<span class="nb">sed</span> <span class="nt">-i</span> <span class="s1">'s/\(^upload_max_filesize = \).*/\120M/'</span> /etc/php/7.4/cli/php.ini
</pre></table></code></div></div><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>a2enmod rewrite
systemctl restart apache2
</pre></table></code></div></div><h2 id="access-to-ui"><span class="me-2">Access to UI</span><a href="#access-to-ui" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>After installation process is finished, check <code class="language-plaintext highlighter-rouge">elastic IP</code> address and connect to <code class="language-plaintext highlighter-rouge">Asterisk</code> using following URL:</p><p><code class="language-plaintext highlighter-rouge">http://{public_elastic_IP}/admin/config.php</code></p><p><a href="/images/posts/asteriks/img.png" class="popup img-link shimmer"><img src="/images/posts/asteriks/img.png" alt="img.png" loading="lazy"></a></p><p><a href="/images/posts/asteriks/img_1.png" class="popup img-link shimmer"><img src="/images/posts/asteriks/img_1.png" alt="img_1.png" loading="lazy"></a></p><p><a href="/images/posts/asteriks/img_2.png" class="popup img-link shimmer"><img src="/images/posts/asteriks/img_2.png" alt="img_2.png" loading="lazy"></a></p><h2 id="ec2-instance-security-groups-setup"><span class="me-2">EC2 instance Security Groups setup</span><a href="#ec2-instance-security-groups-setup" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Following ports should be included into security groups. For more granular control include your public IP address to allow connections only.</p><div class="table-wrapper"><table><thead><tr><th style="text-align: left">Protocol Higher level<th style="text-align: left">Protocol<th style="text-align: left">Port<tbody><tr><td style="text-align: left">HTTPS<td style="text-align: left">TCP<td style="text-align: left">8089<tr><td style="text-align: left">UDP<td style="text-align: left">UDP<td style="text-align: left">5060</table></div><h2 id="voip-in-the-air"><span class="me-2">VoIP in the Air</span><a href="#voip-in-the-air" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Once <code class="language-plaintext highlighter-rouge">Security Groups</code> are configured, you can connect your <code class="language-plaintext highlighter-rouge">PBX</code> SIP-based devices or a smartphones that have <code class="language-plaintext highlighter-rouge">SIP</code> enabled to public endpoint and start using the VoIP telephony.</p><h2 id="further-steps"><span class="me-2">Further steps</span><a href="#further-steps" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>In the next post we will provision <code class="language-plaintext highlighter-rouge">SIP trunk</code> to <code class="language-plaintext highlighter-rouge">Asterisk</code> using <code class="language-plaintext highlighter-rouge">AWS Chime</code> service and deep dive into its configuration.</p><h2 id="references-links"><span class="me-2">References (Links)</span><a href="#references-links" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><a href="https://github.com/tsypuk/samples/tree/main/asterisk">https://github.com/tsypuk/samples/tree/main/asterisk</a><li><a href="http://downloads.asterisk.org/pub/telephony/asterisk/">http://downloads.asterisk.org/pub/telephony/asterisk/</a><li><a href="https://docs.aws.amazon.com/chime-sdk/latest/dg/mtgs-sdk-cvc.html">https://docs.aws.amazon.com/chime-sdk/latest/dg/mtgs-sdk-cvc.html</a><li><a href="https://www.freepbx.org/">https://www.freepbx.org/</a><li><a href="https://github.com/FreePBX/core">https://github.com/FreePBX/core</a><li><a href="https://github.com/asterisk/asterisk">https://github.com/asterisk/asterisk</a> -<a href="https://www.youtube.com/watch?v=LRghtpGsYTg">https://www.youtube.com/watch?v=LRghtpGsYTg</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/aws/">aws</a>, <a href="/categories/sip/">sip</a>, <a href="/categories/ec2/">ec2</a>, <a href="/categories/asterisk/">asterisk</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/aws/" class="post-tag no-text-decoration" >aws</a> <a href="/tags/sip/" class="post-tag no-text-decoration" >sip</a> <a href="/tags/ec2/" class="post-tag no-text-decoration" >ec2</a> <a href="/tags/asteris/" class="post-tag no-text-decoration" >asteris</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Open%20Sourced%20VoIP%20telephony%20Asterisk%20installation%20on%20AWS%20EC2%20instance%20-%20Engineer's%20Notes&url=https%3A%2F%2Ftsypuk.github.io%2Fposts%2F2024%2F02%2F18%2Fasteriks-ec2.html" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Open%20Sourced%20VoIP%20telephony%20Asterisk%20installation%20on%20AWS%20EC2%20instance%20-%20Engineer's%20Notes&u=https%3A%2F%2Ftsypuk.github.io%2Fposts%2F2024%2F02%2F18%2Fasteriks-ec2.html" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Ftsypuk.github.io%2Fposts%2F2024%2F02%2F18%2Fasteriks-ec2.html&text=Open%20Sourced%20VoIP%20telephony%20Asterisk%20installation%20on%20AWS%20EC2%20instance%20-%20Engineer's%20Notes" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Ftsypuk.github.io%2Fposts%2F2024%2F02%2F18%2Fasteriks-ec2.html" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/2025/09/26/multiagnet-n8n-bedrock.html">Orchestrating AI multi-agent infrastructure with AWS Bedrock, OpenAI and n8n</a><li class="text-truncate lh-lg"> <a href="/posts/2025/07/20/elastic-cache-vector.html">Amazon ElastiCache Redis as a Vector Embeddings Storage for Semantic Search in AWS Community Blog posts</a><li class="text-truncate lh-lg"> <a href="/posts/2025/09/17/duckdb-s3.html">Running analytics queries from your machine with Zero-BigData stack needed on top of AWS S3(compressed JSON, Parquet, csv) or other DataSources</a><li class="text-truncate lh-lg"> <a href="/posts/2023/10/02/dynamo-design.html">DynamoDB Table Design Principles - NoSQL Modeling</a><li class="text-truncate lh-lg"> <a href="/posts/2023/10/04/dynamo-one-to-many.html">DynamoDB Table Design Principles - One-To-Many Relationships in NoSQL</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/tags/dynamodb/">dynamodb</a> <a class="post-tag btn btn-outline-primary" href="/tags/git/">git</a> <a class="post-tag btn btn-outline-primary" href="/tags/security/">security</a> <a class="post-tag btn btn-outline-primary" href="/tags/s3/">s3</a> <a class="post-tag btn btn-outline-primary" href="/tags/ecs/">ecs</a> <a class="post-tag btn btn-outline-primary" href="/tags/network/">network</a> <a class="post-tag btn btn-outline-primary" href="/tags/cli/">cli</a> <a class="post-tag btn btn-outline-primary" href="/tags/fargate/">fargate</a> <a class="post-tag btn btn-outline-primary" href="/tags/firehose/">firehose</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/2024/02/24/aws-chime.html" class="post-preview card h-100"><div class="card-body"> <time data-ts="1708783200" data-df="ll" > Feb 24, 2024 </time><h4 class="pt-0 my-2">AWS Chime SIP Trunking Integration with VoIP Asterisk</h4><div class="text-muted"><p>Abstract Session Initiation Protocol (SIP) trunking is a technology used in Voice over Internet Protocol (VoIP) telephony that enables the connection of a private branch exchange (PBX) to the inte...</p></div></div></a></article><article class="col"> <a href="/posts/2023/03/21/xra-tracing-2.html" class="post-preview card h-100"><div class="card-body"> <time data-ts="1679407200" data-df="ll" > Mar 21, 2023 </time><h4 class="pt-0 my-2">AWS XRAY tracing. Part 2: Advanced. Querying & Grouping.</h4><div class="text-muted"><p>Abstract Welcome to the next part of our AWS X-Ray series. Weâ€™ll explore the flow of trace detection and how to specify different parameters like time ranges. Additionally, weâ€™ll take a deep dive i...</p></div></div></a></article><article class="col"> <a href="/posts/2023/03/07/mingrammer.html" class="post-preview card h-100"><div class="card-body"> <time data-ts="1678165200" data-df="ll" > Mar 7, 2023 </time><h4 class="pt-0 my-2">Diagrams-as-a-Code DaC with Mingrammer for Public Cloud Providers and Agnostic Stacks.</h4><div class="text-muted"><p>Abstract During my analysis of open-source libraries that are suitable for rendering AWS components, in order to simplify the understanding and documenting of application architecture I discovered ...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/2024/02/11/system-manager.html" class="btn btn-outline-primary" aria-label="Older" ><p>AWS SSM Session Manager as secure Hub to establish multiple Connections to instances and Port Forwarding</p></a> <a href="/posts/2024/02/24/aws-chime.html" class="btn btn-outline-primary" aria-label="Newer" ><p>AWS Chime SIP Trunking Integration with VoIP Asterisk</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>Â© <time>2025</time> <a href="https://www.linkedin.com/in/roman-tsypuk">Roman Tsypuk</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span> <span data-bs-toggle="tooltip" data-bs-placement="top" title="2025-09-26 20:11:52 +0300 &#013;be60bb44e6416aa69b8fd68791db025be40c523c">Build version: be60bb4</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/tags/dynamodb/">dynamodb</a> <a class="post-tag btn btn-outline-primary" href="/tags/git/">git</a> <a class="post-tag btn btn-outline-primary" href="/tags/security/">security</a> <a class="post-tag btn btn-outline-primary" href="/tags/s3/">s3</a> <a class="post-tag btn btn-outline-primary" href="/tags/ecs/">ecs</a> <a class="post-tag btn btn-outline-primary" href="/tags/network/">network</a> <a class="post-tag btn btn-outline-primary" href="/tags/cli/">cli</a> <a class="post-tag btn btn-outline-primary" href="/tags/fargate/">fargate</a> <a class="post-tag btn btn-outline-primary" href="/tags/firehose/">firehose</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'tsypuk/tsypuk.github.io', 'data-repo-id': 'R_kgDOIxaFiw', 'data-category': 'General', 'data-category-id': 'DIC_kwDOIxaFi84CUSfn', 'data-mapping': 'og:title', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'top', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{content}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
