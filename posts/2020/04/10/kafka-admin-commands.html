<!doctype html><html lang="en" ><head> <script async src="https://www.googletagmanager.com/gtag/js?id=G-LXECFRDHS1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-LXECFRDHS1'); </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="Kafka ops commands | by Roman Tsypuk" /><meta name="author" content="Roman Tsypuk" /><meta property="og:locale" content="en" /><meta name="description" content="Topic operations:" /><meta property="og:description" content="Topic operations:" /><meta property="twitter:description" content="Topic operations:" /><link rel="canonical" href="https://tsypuk.github.io/posts/2020/04/10/kafka-admin-commands.html" /><meta property="og:url" content="https://tsypuk.github.io/posts/2020/04/10/kafka-admin-commands.html" /><meta property="og:site_name" content="Engineer’s Notes | Roman Tsypuk" /><meta property="og:image" content="https://tsypuk.github.io/images/banners/1200/keyboard-1242569.jpg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-04-10T17:00:00+03:00" /><meta name="publish_date" property="og:publish_date" content="2020-04-10T17:00:00+03:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://tsypuk.github.io/images/banners/1200/keyboard-1242569.jpg" /><meta property="twitter:title" content="Kafka ops commands | by Roman Tsypuk" /><meta name="twitter:site" content="@roman_tsypuk" /><meta name="twitter:creator" content="@roman_tsypuk" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Roman Tsypuk"},"dateModified":"2024-02-25T18:38:06+02:00","datePublished":"2020-04-10T17:00:00+03:00","description":"Topic operations:","headline":"Kafka ops commands","image":"https://tsypuk.github.io/images/banners/1200/keyboard-1242569.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://tsypuk.github.io/posts/2020/04/10/kafka-admin-commands.html"},"url":"https://tsypuk.github.io/posts/2020/04/10/kafka-admin-commands.html"}</script><title>Kafka ops commands | Engineer's Notes</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Engineer's Notes"><meta name="application-name" content="Engineer's Notes"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-LXECFRDHS1"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-LXECFRDHS1'); }); </script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/images/avatar/rtsypuk.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">Engineer's Notes</a><p class="site-subtitle fst-italic mb-0">Cloud, Infrastructure, Architecture, Networking</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories.html" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags.html" class="nav-link"> <i class="fa-fw fas fa-tag"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archived_posts.html" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/roman_tsypuk.html" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/tsypuk" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/roman_tsypuk" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/roman-tsypuk" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['tsypuk_conf','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>Kafka ops commands</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link" aria-label="Search"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>Kafka ops commands</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1586527200" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Apr 10, 2020 </time> </span> <span> Updated <time data-ts="1708879086" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Feb 25, 2024 </time> </span><div class="mt-3 mb-3"> <a href="/images/banners/1200/keyboard-1242569.jpg" class="popup img-link preview-img shimmer"><img src="/images/banners/1200/keyboard-1242569.jpg" alt="Preview Image" width="1200" height="630" loading="lazy"></a></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://www.linkedin.com/in/roman-tsypuk">Roman Tsypuk</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="639 words" > <em>3 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">Kafka ops commands</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">Kafka ops commands</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><p>Topic operations:</p><ul><li><a href="#create-topic">Create topic</a><li><a href="#partition">Change partitions number (can only add more)</a><li><a href="#delete-a-topic">Delete a topic</a><li><a href="#list-all-topics">List all topics</a><li><a href="#describe-all-the-topics">Describe all the topics</a><li><a href="#list_overrides">List topics with overrides(configs added to the defaults)</a><li><a href="#list_no_sync">List topics that are not in-sync with all replicas</a><li><a href="#list_no_leader">List topics without a leader replica</a><li><a href="#config1">Describe the configurations for all topics (only in addition to the defaults)</a><li><a href="#config2">Describe the configurations for a specific topic (defaults will not show)</a></ul><p>Consumer operations::</p><ul><li><a href="#cgroups1">List all the consumer groups</a><li><a href="#cgroups2">Describe a specific consumer group</a><li><a href="#cgroups3">Describe the active members of the group</a><li><a href="#cgroups4">If the group has active members get a more verbose output</a><li><a href="#cgroups5">Describe the state of the group</a><li><a href="#cgroups6">Delete a consumer group (only works if there are no active members).</a><li><a href="#cgroups7">Delete multiple consumer groups</a><li><a href="#cgroups8">Reset offsets for a consumer group</a></ul><h2 id="add-kafka-to-the-path"><span class="me-2">Add Kafka to the PATH</span><a href="#add-kafka-to-the-path" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"/xxx/xxxxxx/kafka_2.13-2.4.1/bin:</span><span class="nv">$PATH</span><span class="s2">"</span>
</pre></table></code></div></div><h2 id="topic-operations"><span class="me-2">Topic operations</span><a href="#topic-operations" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="create-topic"><span class="me-2">Create topic</span><a href="#create-topic" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="nv">$ </span>kafka-topics.sh <span class="nt">--zookeeper</span> zookeeper1:2181 <span class="se">\</span>
<span class="nt">--create</span> <span class="se">\</span>
<span class="nt">--topic</span> my-topic <span class="se">\</span>
<span class="nt">--replication-factor</span> 1 <span class="se">\</span>
<span class="nt">--partitions</span> 5 <span class="se">\</span>
<span class="nt">--if-not-exists</span>
</pre></table></code></div></div><h3 id="partition"><span class="me-2">Change partitions number (can only add more)</span><a href="#partition" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nv">$ </span>kafka-topics.sh <span class="nt">--zookeeper</span> zookeeper1:2181 <span class="se">\</span>
<span class="nt">--alter</span> <span class="se">\</span>
<span class="nt">--topic</span> my-topic <span class="se">\</span>
<span class="nt">--partitions</span> 7
</pre></table></code></div></div><h3 id="delete-a-topic"><span class="me-2">Delete a topic</span><a href="#delete-a-topic" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-topics.sh <span class="nt">--zookeeper</span> zookeeper1:2181 <span class="se">\</span>
<span class="nt">--delete</span> <span class="se">\</span>
<span class="nt">--topic</span> my-topic
</pre></table></code></div></div><h3 id="list-all-topics"><span class="me-2">List all topics</span><a href="#list-all-topics" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-topics.sh <span class="nt">--zookeeper</span> zookeeper1:2181 <span class="se">\</span>
<span class="nt">--list</span>
</pre></table></code></div></div><h3 id="describe-all-the-topics"><span class="me-2">Describe all the topics</span><a href="#describe-all-the-topics" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-topics.sh <span class="nt">--zookeeper</span> zookeeper1:2181 <span class="se">\</span>
<span class="nt">--describe</span>
</pre></table></code></div></div><h3 id="list_overrides"><span class="me-2">List topics with overrides(configs added to the defaults)</span><a href="#list_overrides" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-topics.sh <span class="nt">--zookeeper</span> zookeeper1:2181 <span class="se">\</span>
<span class="nt">--describe</span> <span class="se">\</span>
<span class="nt">--topics-with-overrides</span>
</pre></table></code></div></div><h3 id="list_no_sync"><span class="me-2">List topics that are not in-sync with all replicas</span><a href="#list_no_sync" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-topics.sh <span class="nt">--zookeeper</span> zookeeper1:2181 <span class="se">\</span>
<span class="nt">--describe</span> <span class="se">\</span>
<span class="nt">--under-replicated-partitions</span>
</pre></table></code></div></div><h3 id="list_no_leader"><span class="me-2">List topics without a leader replica</span><a href="#list_no_leader" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-topics.sh <span class="nt">--zookeeper</span> zookeeper1:2181 <span class="se">\</span>
<span class="nt">--describe</span> <span class="se">\</span>
<span class="nt">--unavailable-partitions</span>
</pre></table></code></div></div><h3 id="config1"><span class="me-2">Describe the configurations for all topics (only in addition to the defaults)</span><a href="#config1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-configs.sh <span class="nt">--zookeeper</span> zookeeper1:2181 <span class="se">\</span>
<span class="nt">--describe</span> <span class="se">\</span>
<span class="nt">--entity-type</span> topics
</pre></table></code></div></div><h3 id="config2"><span class="me-2">Describe the configurations for a specific topic (defaults will not show)</span><a href="#config2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-configs.sh <span class="nt">--zookeeper</span> zookeeper1:2181 <span class="se">\</span>
<span class="nt">--describe</span> <span class="se">\</span>
<span class="nt">--entity-type</span> topics <span class="se">\</span>
<span class="nt">--entity-name</span> my-topic
</pre></table></code></div></div><h3 id="change-the-topics-message-retention"><span class="me-2">Change the topics message retention</span><a href="#change-the-topics-message-retention" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-configs.sh <span class="nt">--zookeeper</span> zookeeper1:2181 <span class="se">\</span>
<span class="nt">--alter</span> <span class="se">\</span>
<span class="nt">--entity-type</span> topics <span class="se">\</span>
<span class="nt">--entity-name</span> connect-test <span class="se">\</span>
<span class="nt">--add-config</span> retention.ms<span class="o">=</span>3600000
</pre></table></code></div></div><h3 id="describe-the-configurations-for-all-brokers-defaults-will-not-show"><span class="me-2">Describe the configurations for all brokers (defaults will not show)</span><a href="#describe-the-configurations-for-all-brokers-defaults-will-not-show" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-configs.sh <span class="nt">--zookeeper</span> zookeeper1:2181 <span class="se">\</span>
<span class="nt">--entity-type</span> brokers <span class="se">\</span>
<span class="nt">--entity-default</span> <span class="se">\</span>
<span class="nt">--describe</span>
</pre></table></code></div></div><h3 id="describe-the-configuration-for-broker-0-defaults-will-not-show"><span class="me-2">Describe the configuration for broker 0 (defaults will not show)</span><a href="#describe-the-configuration-for-broker-0-defaults-will-not-show" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-configs.sh <span class="nt">--zookeeper</span> zookeeper1:2181 <span class="se">\</span>
<span class="nt">--entity-type</span> brokers <span class="se">\</span>
<span class="nt">--entity-name</span> 0 <span class="se">\</span>
<span class="nt">--describe</span>
</pre></table></code></div></div><h3 id="add-a-custom-config-to-broker-0-log-cleaner-thread-count"><span class="me-2">Add a custom config to broker 0 (log cleaner thread count)</span><a href="#add-a-custom-config-to-broker-0-log-cleaner-thread-count" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-configs.sh <span class="nt">--zookeeper</span> zookeeper1:2181 <span class="se">\</span>
<span class="nt">--entity-type</span> brokers <span class="se">\</span>
<span class="nt">--entity-name</span> 0 <span class="se">\</span>
<span class="nt">--alter</span> <span class="se">\</span>
<span class="nt">--add-config</span> log.cleaner.threads<span class="o">=</span>2
</pre></table></code></div></div><h3 id="remove-all-custom-configs-not-including-defaults-from-broker-0"><span class="me-2">Remove all custom configs (not including defaults) from broker 0</span><a href="#remove-all-custom-configs-not-including-defaults-from-broker-0" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-configs.sh <span class="nt">--zookeeper</span> zookeeper1:2181 <span class="se">\</span>
<span class="nt">--entity-type</span> brokers <span class="se">\</span>
<span class="nt">--entity-name</span> 0 <span class="se">\</span>
<span class="nt">--alter</span> <span class="se">\</span>
<span class="nt">--delete-config</span> log.cleaner.threads
</pre></table></code></div></div><h2 id="consumer-operations"><span class="me-2">Consumer operations</span><a href="#consumer-operations" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="cgroups1"><span class="me-2">List all the consumer groups</span><a href="#cgroups1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-consumer-groups.sh <span class="nt">--bootstrap-server</span> kafka1:9092 <span class="se">\</span>
<span class="nt">--list</span>
</pre></table></code></div></div><h3 id="cgroups2"><span class="me-2">Describe a specific consumer group</span><a href="#cgroups2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-consumer-groups.sh <span class="nt">--bootstrap-server</span> kafka1:9092 <span class="se">\</span>
<span class="nt">--describe</span> <span class="se">\</span>
<span class="nt">--group</span> application1
</pre></table></code></div></div><h3 id="cgroups3"><span class="me-2">Describe the active members of the group</span><a href="#cgroups3" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-consumer-groups.sh <span class="nt">--bootstrap-server</span> kafka1:9092 <span class="se">\</span>
<span class="nt">--describe</span> <span class="se">\</span>
<span class="nt">--group</span> application1 <span class="se">\</span>
<span class="nt">--members</span>
</pre></table></code></div></div><h3 id="cgroups4"><span class="me-2">If the group has active members get a more verbose output</span><a href="#cgroups4" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-consumer-groups.sh <span class="nt">--bootstrap-server</span> kafka1:9092 <span class="se">\</span>
<span class="nt">--describe</span> <span class="se">\</span>
<span class="nt">--group</span> application1 <span class="se">\</span>
<span class="nt">--members</span> <span class="se">\</span>
<span class="nt">--verbose</span>
</pre></table></code></div></div><h3 id="cgroups5"><span class="me-2">Describe the state of the group</span><a href="#cgroups5" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-consumer-groups.sh <span class="nt">--bootstrap-server</span> kafka1:9092 <span class="se">\</span>
<span class="nt">--describe</span> <span class="se">\</span>
<span class="nt">--group</span> application1 <span class="se">\</span>
<span class="nt">--state</span>
</pre></table></code></div></div><h3 id="cgroups6"><span class="me-2">Delete a consumer group (only works if there are no active members).</span><a href="#cgroups6" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-consumer-groups.sh <span class="nt">--bootstrap-server</span> kafka1:9092 <span class="se">\</span>
<span class="nt">--delete</span> <span class="se">\</span>
<span class="nt">--group</span> application1
</pre></table></code></div></div><h3 id="cgroups7"><span class="me-2">Delete multiple consumer groups</span><a href="#cgroups7" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-consumer-groups.sh <span class="nt">--bootstrap-server</span> kafka1:9092 <span class="se">\</span>
<span class="nt">--delete</span> <span class="se">\</span>
<span class="nt">--group</span> application1 <span class="se">\</span>
<span class="nt">--group</span> application2
</pre></table></code></div></div><h3 id="cgroups8"><span class="me-2">Reset offsets for a consumer group</span><a href="#cgroups8" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nv">$ </span>bin/kafka-consumer-groups.sh <span class="nt">--bootstrap-server</span> kafka:9092 <span class="se">\</span>
<span class="nt">--reset-offsets</span> <span class="se">\</span>
<span class="nt">--group</span> application1 <span class="se">\</span>
<span class="nt">--topic</span> topic-1 <span class="se">\</span>
<span class="nt">--to-latest</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/kafka/">kafka</a>, <a href="/categories/linux/">linux</a>, <a href="/categories/cli/">cli</a>, <a href="/categories/administration/">administration</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/kafka/" class="post-tag no-text-decoration" >kafka</a> <a href="/tags/linux/" class="post-tag no-text-decoration" >linux</a> <a href="/tags/cli/" class="post-tag no-text-decoration" >cli</a> <a href="/tags/administration/" class="post-tag no-text-decoration" >administration</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Kafka%20ops%20commands%20-%20Engineer's%20Notes&url=https%3A%2F%2Ftsypuk.github.io%2Fposts%2F2020%2F04%2F10%2Fkafka-admin-commands.html" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Kafka%20ops%20commands%20-%20Engineer's%20Notes&u=https%3A%2F%2Ftsypuk.github.io%2Fposts%2F2020%2F04%2F10%2Fkafka-admin-commands.html" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Ftsypuk.github.io%2Fposts%2F2020%2F04%2F10%2Fkafka-admin-commands.html&text=Kafka%20ops%20commands%20-%20Engineer's%20Notes" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Ftsypuk.github.io%2Fposts%2F2020%2F04%2F10%2Fkafka-admin-commands.html" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/2025/09/26/multiagnet-n8n-bedrock.html">Orchestrating AI multi-agent infrastructure with AWS Bedrock, OpenAI and n8n</a><li class="text-truncate lh-lg"> <a href="/posts/2025/07/20/elastic-cache-vector.html">Amazon ElastiCache Redis as a Vector Embeddings Storage for Semantic Search in AWS Community Blog posts</a><li class="text-truncate lh-lg"> <a href="/posts/2025/09/17/duckdb-s3.html">Running analytics queries from your machine with Zero-BigData stack needed on top of AWS S3(compressed JSON, Parquet, csv) or other DataSources</a><li class="text-truncate lh-lg"> <a href="/posts/2023/10/02/dynamo-design.html">DynamoDB Table Design Principles - NoSQL Modeling</a><li class="text-truncate lh-lg"> <a href="/posts/2023/10/04/dynamo-one-to-many.html">DynamoDB Table Design Principles - One-To-Many Relationships in NoSQL</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/tags/dynamodb/">dynamodb</a> <a class="post-tag btn btn-outline-primary" href="/tags/git/">git</a> <a class="post-tag btn btn-outline-primary" href="/tags/security/">security</a> <a class="post-tag btn btn-outline-primary" href="/tags/s3/">s3</a> <a class="post-tag btn btn-outline-primary" href="/tags/ecs/">ecs</a> <a class="post-tag btn btn-outline-primary" href="/tags/network/">network</a> <a class="post-tag btn btn-outline-primary" href="/tags/cli/">cli</a> <a class="post-tag btn btn-outline-primary" href="/tags/fargate/">fargate</a> <a class="post-tag btn btn-outline-primary" href="/tags/firehose/">firehose</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/2020/04/05/kafka-twitter-streaming.html" class="post-preview card h-100"><div class="card-body"> <time data-ts="1586095200" data-df="ll" > Apr 5, 2020 </time><h4 class="pt-0 my-2">Stream tweets with Apache Kafka Connect</h4><div class="text-muted"><p>Abstract Apache Kafka provides a variety of ways to connect its topics with external systems (to use as sources or sinks). One of them is Connect API. Here is example how to set up and configure c...</p></div></div></a></article><article class="col"> <a href="/posts/2024/06/07/aws-cli-extend-own-commands.html" class="post-preview card h-100"><div class="card-body"> <time data-ts="1717768800" data-df="ll" > Jun 7, 2024 </time><h4 class="pt-0 my-2">Integrating your own cli tool into aws cli</h4><div class="text-muted"><p>We are using AWS Command Line Interface (CLI) in multiple projects and daily operations. The aws cli is a propriatary tool for managing AWS services and resources from the command line. It is maint...</p></div></div></a></article><article class="col"> <a href="/posts/2023/02/19/awsshell.html" class="post-preview card h-100"><div class="card-body"> <time data-ts="1676815200" data-df="ll" > Feb 19, 2023 </time><h4 class="pt-0 my-2">This is not just another AWS Shell. It's The Force that will be with you, always.</h4><div class="text-muted"><p>Abstract We all use the standard aws cli for operations from our local/remote machines, scripting, etc. However, using it requires knowledge of command syntax, staying updated with newly added APIs...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/2020/04/09/git-gpg-key.html" class="btn btn-outline-primary" aria-label="Older" ><p>Sign git commits with GPG key</p></a> <a href="/posts/2023/01/23/ecs-billing.html" class="btn btn-outline-primary" aria-label="Newer" ><p>Running inventory on ECS Fargate cluster to optimize resources utilization and reduce your billing costs</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://www.linkedin.com/in/roman-tsypuk">Roman Tsypuk</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span> <span data-bs-toggle="tooltip" data-bs-placement="top" title="2025-09-26 20:11:52 +0300 &#013;be60bb44e6416aa69b8fd68791db025be40c523c">Build version: be60bb4</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/tags/dynamodb/">dynamodb</a> <a class="post-tag btn btn-outline-primary" href="/tags/git/">git</a> <a class="post-tag btn btn-outline-primary" href="/tags/security/">security</a> <a class="post-tag btn btn-outline-primary" href="/tags/s3/">s3</a> <a class="post-tag btn btn-outline-primary" href="/tags/ecs/">ecs</a> <a class="post-tag btn btn-outline-primary" href="/tags/network/">network</a> <a class="post-tag btn btn-outline-primary" href="/tags/cli/">cli</a> <a class="post-tag btn btn-outline-primary" href="/tags/fargate/">fargate</a> <a class="post-tag btn btn-outline-primary" href="/tags/firehose/">firehose</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'tsypuk/tsypuk.github.io', 'data-repo-id': 'R_kgDOIxaFiw', 'data-category': 'General', 'data-category-id': 'DIC_kwDOIxaFi84CUSfn', 'data-mapping': 'og:title', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'top', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{content}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
