<!doctype html><html lang="en" ><head> <script async src="https://www.googletagmanager.com/gtag/js?id=G-LXECFRDHS1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-LXECFRDHS1'); </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="Diagrams-as-a-Code DaC with Mingrammer for Public Cloud Providers and Agnostic Stacks. | by Roman Tsypuk" /><meta name="author" content="Roman Tsypuk" /><meta property="og:locale" content="en" /><meta name="description" content="During my analysis of open-source libraries that are suitable for rendering AWS components, in order to simplify the understanding and documenting of application architecture I discovered the Mingrammer Diagrams." /><meta property="og:description" content="During my analysis of open-source libraries that are suitable for rendering AWS components, in order to simplify the understanding and documenting of application architecture I discovered the Mingrammer Diagrams." /><meta property="twitter:description" content="During my analysis of open-source libraries that are suitable for rendering AWS components, in order to simplify the understanding and documenting of application architecture I discovered the Mingrammer Diagrams." /><link rel="canonical" href="https://tsypuk.github.io/posts/2023/03/07/mingrammer.html" /><meta property="og:url" content="https://tsypuk.github.io/posts/2023/03/07/mingrammer.html" /><meta property="og:site_name" content="Engineer’s Notes | Roman Tsypuk" /><meta property="og:image" content="https://tsypuk.github.io/images/banners/twitter/banner-mingrammer.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-03-07T07:00:00+02:00" /><meta name="publish_date" property="og:publish_date" content="2023-03-07T07:00:00+02:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://tsypuk.github.io/images/banners/twitter/banner-mingrammer.png" /><meta property="twitter:title" content="Diagrams-as-a-Code DaC with Mingrammer for Public Cloud Providers and Agnostic Stacks. | by Roman Tsypuk" /><meta name="twitter:site" content="@roman_tsypuk" /><meta name="twitter:creator" content="@roman_tsypuk" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Roman Tsypuk"},"dateModified":"2024-02-25T18:38:06+02:00","datePublished":"2023-03-07T07:00:00+02:00","description":"During my analysis of open-source libraries that are suitable for rendering AWS components, in order to simplify the understanding and documenting of application architecture I discovered the Mingrammer Diagrams.","headline":"Diagrams-as-a-Code DaC with Mingrammer for Public Cloud Providers and Agnostic Stacks.","image":{"twitter":"/images/banners/twitter/banner-mingrammer.png","url":"https://tsypuk.github.io/images/banners/twitter/banner-mingrammer.png","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://tsypuk.github.io/posts/2023/03/07/mingrammer.html"},"url":"https://tsypuk.github.io/posts/2023/03/07/mingrammer.html"}</script><title>Diagrams-as-a-Code DaC with Mingrammer for Public Cloud Providers and Agnostic Stacks. | Engineer's Notes</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Engineer's Notes"><meta name="application-name" content="Engineer's Notes"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=" ></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-LXECFRDHS1"></script> <script> document.addEventListener('DOMContentLoaded', () => { window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-LXECFRDHS1'); }); </script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/images/avatar/rtsypuk.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">Engineer's Notes</a><p class="site-subtitle fst-italic mb-0">Cloud, Infrastructure, Architecture, Networking</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories.html" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags.html" class="nav-link"> <i class="fa-fw fas fa-tag"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archived_posts.html" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/roman_tsypuk.html" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/tsypuk" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/roman_tsypuk" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/roman-tsypuk" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a> <a href="javascript:location.href = 'mailto:' + ['tsypuk_conf','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>Diagrams-as-a-Code DaC with Mingrammer for Public Cloud Providers and Agnostic Stacks.</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link" aria-label="Search"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>Diagrams-as-a-Code DaC with Mingrammer for Public Cloud Providers and Agnostic Stacks.</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1678165200" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Mar 7, 2023 </time> </span> <span> Updated <time data-ts="1708879086" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Feb 25, 2024 </time> </span><div class="mt-3 mb-3"> <a href="/images/banners/1200/migram.jpg" class="popup img-link preview-img shimmer"><img src="/images/banners/1200/migram.jpg" alt="Preview Image" width="1200" height="630" loading="lazy"></a></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://www.linkedin.com/in/roman-tsypuk">Roman Tsypuk</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="709 words" > <em>3 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">Diagrams-as-a-Code DaC with Mingrammer for Public Cloud Providers and Agnostic Stacks.</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">Diagrams-as-a-Code DaC with Mingrammer for Public Cloud Providers and Agnostic Stacks.</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><h2 id="abstract"><span class="me-2">Abstract</span><a href="#abstract" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>During my analysis of open-source libraries that are suitable for rendering AWS components, in order to simplify the understanding and documenting of application architecture I discovered the Mingrammer Diagrams. What stood out about this library was its approach. In this article, we will explore the usage of DaC (Diagrams-as-Code) and assess its advantages and disadvantages. Mingrammer provides multiple nodes for rendering diagrams. Here is the <a href="https://diagrams.mingrammer.com/docs/nodes/aws">major list of AWS components</a> which includes icons for popular AWS services like EC2, S3, and RDS, as well as specialized icons for different types of data centers, network architectures, and security models.</p><p>The DSL to define nodes and associated mappings between them is very simple, we will go through examples of AWS-related services.</p><h2 id="rendering-simple-nodes"><span class="me-2">Rendering simple Nodes</span><a href="#rendering-simple-nodes" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="/images/posts/mingrammer/cluster.png" class="popup img-link right shimmer"><img src="/images/posts/mingrammer/cluster.png" alt="cluster.png" loading="lazy"></a></p><p>Let’s add first simple nodes and group them into the cluster:</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">with</span> <span class="nc">Cluster</span><span class="p">(</span><span class="sh">"</span><span class="s">Data processing engines</span><span class="sh">"</span><span class="p">):</span>
  <span class="n">workers</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nc">Docker</span><span class="p">(</span><span class="sh">"</span><span class="s">click stream</span><span class="sh">"</span><span class="p">),</span>
    <span class="nc">Docker</span><span class="p">(</span><span class="sh">"</span><span class="s">user logins</span><span class="sh">"</span><span class="p">),</span>
    <span class="nc">Docker</span><span class="p">(</span><span class="sh">"</span><span class="s">data analytics</span><span class="sh">"</span><span class="p">)</span>
    <span class="p">]</span>
</pre></table></code></div></div><p>Mingrammer diagrams are based on the popular <strong>Graphviz tool</strong>, which is used to create diagrams and visualizations. These diagrams are typically created using a simple text-based language called DOT, which is used to describe the structure and connections between different elements in a diagram.</p><p>Mingrammer diagrams build on top of this framework, providing an easier way to create complex diagrams using a variety of different tools and libraries.</p><h2 id="adding-aws-nodes"><span class="me-2">Adding AWS nodes</span><a href="#adding-aws-nodes" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>With Mingrammer diagrams, you can easily add annotations, labels, and other visual elements that help to clarify the structure and relationships of different AWS services. This can be especially useful when you are working with complex systems that involve multiple services and components, as it can be difficult to keep track of all of the different pieces without a clear visual representation.</p><p>Nodes can be connected with relations by applying <strong>»</strong> operator: <code class="language-plaintext highlighter-rouge">queue &gt;&gt; dlq</code></p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="k">with</span> <span class="nc">Cluster</span><span class="p">(</span><span class="sh">"</span><span class="s">Event Flows</span><span class="sh">"</span><span class="p">):</span>
        <span class="k">with</span> <span class="nc">Cluster</span><span class="p">(</span><span class="sh">"</span><span class="s">Data processing engines</span><span class="sh">"</span><span class="p">):</span>
            <span class="n">workers</span> <span class="o">=</span> <span class="p">[</span><span class="nc">Docker</span><span class="p">(</span><span class="sh">"</span><span class="s">click stream</span><span class="sh">"</span><span class="p">),</span>
                       <span class="nc">Docker</span><span class="p">(</span><span class="sh">"</span><span class="s">user logins</span><span class="sh">"</span><span class="p">),</span>
                       <span class="nc">Docker</span><span class="p">(</span><span class="sh">"</span><span class="s">data analytics</span><span class="sh">"</span><span class="p">)]</span>

        <span class="n">queue</span> <span class="o">=</span> <span class="nc">SQS</span><span class="p">(</span><span class="sh">"</span><span class="s">results queue</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">dlq</span> <span class="o">=</span> <span class="nc">SQS</span><span class="p">(</span><span class="sh">"</span><span class="s">Dead Letter Queue</span><span class="sh">"</span><span class="p">)</span>

        <span class="k">with</span> <span class="nc">Cluster</span><span class="p">(</span><span class="sh">"</span><span class="s">Processing</span><span class="sh">"</span><span class="p">):</span>
            <span class="n">handlers</span> <span class="o">=</span> <span class="p">[</span><span class="nc">Lambda</span><span class="p">(</span><span class="sh">"</span><span class="s">persist results</span><span class="sh">"</span><span class="p">)]</span>

        <span class="k">with</span> <span class="nc">Cluster</span><span class="p">(</span><span class="sh">"</span><span class="s">Storage</span><span class="sh">"</span><span class="p">):</span>
            <span class="n">store</span> <span class="o">=</span> <span class="nc">S3</span><span class="p">(</span><span class="sh">"</span><span class="s">cold storage</span><span class="sh">"</span><span class="p">)</span>
            <span class="n">dw</span> <span class="o">=</span> <span class="nc">Redshift</span><span class="p">(</span><span class="sh">"</span><span class="s">operational storage</span><span class="sh">"</span><span class="p">)</span>

<span class="n">workers</span> <span class="o">&gt;&gt;</span> <span class="n">queue</span> <span class="o">&gt;&gt;</span> <span class="n">handlers</span>
<span class="n">queue</span> <span class="o">&gt;&gt;</span> <span class="n">dlq</span>
<span class="n">handlers</span> <span class="o">&gt;&gt;</span> <span class="n">store</span>
<span class="n">handlers</span> <span class="o">&gt;&gt;</span> <span class="n">dw</span>
</pre></table></code></div></div><p><a href="/images/posts/mingrammer/flow.png" class="popup img-link center shimmer"><img src="/images/posts/mingrammer/flow.png" alt="flow.png" loading="lazy"></a> <em>More elements connected with DaC</em></p><h2 id="adding-end-to-end-flow"><span class="me-2">Adding End-to-End flow</span><a href="#adding-end-to-end-flow" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Let’s complete the flow by adding <strong>onprem</strong> nodes with Logging, Kafka and Spark and also adding style:</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre><span class="k">with</span> <span class="nc">Diagram</span><span class="p">(</span><span class="sh">"</span><span class="s">serverless processing</span><span class="sh">"</span><span class="p">,</span> <span class="n">show</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>

    <span class="n">source</span> <span class="o">=</span> <span class="nc">Kafka</span><span class="p">(</span><span class="sh">"</span><span class="s">Event-Sourcing</span><span class="sh">"</span><span class="p">)</span>

    <span class="k">with</span> <span class="nc">Cluster</span><span class="p">(</span><span class="sh">"</span><span class="s">Event Flows</span><span class="sh">"</span><span class="p">):</span>
        <span class="k">with</span> <span class="nc">Cluster</span><span class="p">(</span><span class="sh">"</span><span class="s">Data processing engines</span><span class="sh">"</span><span class="p">):</span>
            <span class="n">workers</span> <span class="o">=</span> <span class="p">[</span><span class="nc">Docker</span><span class="p">(</span><span class="sh">"</span><span class="s">click stream</span><span class="sh">"</span><span class="p">),</span>
                       <span class="nc">Docker</span><span class="p">(</span><span class="sh">"</span><span class="s">user logins</span><span class="sh">"</span><span class="p">),</span>
                       <span class="nc">Docker</span><span class="p">(</span><span class="sh">"</span><span class="s">data analytics</span><span class="sh">"</span><span class="p">)]</span>

        <span class="n">queue</span> <span class="o">=</span> <span class="nc">SQS</span><span class="p">(</span><span class="sh">"</span><span class="s">results queue</span><span class="sh">"</span><span class="p">)</span>
        <span class="n">dlq</span> <span class="o">=</span> <span class="nc">SQS</span><span class="p">(</span><span class="sh">"</span><span class="s">Dead Letter Queue</span><span class="sh">"</span><span class="p">)</span>

        <span class="k">with</span> <span class="nc">Cluster</span><span class="p">(</span><span class="sh">"</span><span class="s">Processing</span><span class="sh">"</span><span class="p">):</span>
            <span class="n">handlers</span> <span class="o">=</span> <span class="p">[</span><span class="nc">Lambda</span><span class="p">(</span><span class="sh">"</span><span class="s">persist results</span><span class="sh">"</span><span class="p">)]</span>

        <span class="k">with</span> <span class="nc">Cluster</span><span class="p">(</span><span class="sh">"</span><span class="s">Storage</span><span class="sh">"</span><span class="p">):</span>
            <span class="n">store</span> <span class="o">=</span> <span class="nc">S3</span><span class="p">(</span><span class="sh">"</span><span class="s">cold storage</span><span class="sh">"</span><span class="p">)</span>
            <span class="n">dw</span> <span class="o">=</span> <span class="nc">Redshift</span><span class="p">(</span><span class="sh">"</span><span class="s">operational storage</span><span class="sh">"</span><span class="p">)</span>

    <span class="n">source</span> <span class="o">&gt;&gt;</span> <span class="n">workers</span> <span class="o">&gt;&gt;</span> <span class="n">queue</span> <span class="o">&gt;&gt;</span> <span class="n">handlers</span>
    <span class="n">queue</span> <span class="o">&gt;&gt;</span> <span class="n">dlq</span>
    <span class="n">handlers</span> <span class="o">&gt;&gt;</span> <span class="n">store</span>
    <span class="n">handlers</span> <span class="o">&gt;&gt;</span> <span class="n">dw</span>

    <span class="n">ingress</span> <span class="o">=</span> <span class="nc">Fluentd</span><span class="p">(</span><span class="sh">"</span><span class="s">logging</span><span class="sh">"</span><span class="p">)</span>
    <span class="n">ingress</span> \
        <span class="o">&gt;&gt;</span> <span class="nc">Edge</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="sh">"</span><span class="s">parse</span><span class="sh">"</span><span class="p">)</span> \
        <span class="o">&gt;&gt;</span> <span class="n">source</span> \
        <span class="o">&gt;&gt;</span> <span class="nc">Edge</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="sh">"</span><span class="s">black</span><span class="sh">"</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="sh">"</span><span class="s">bold</span><span class="sh">"</span><span class="p">)</span> \
        <span class="o">&gt;&gt;</span> <span class="nc">Spark</span><span class="p">()</span>
</pre></table></code></div></div><p><a href="/images/posts/mingrammer/serverless_processing.png" class="popup img-link w-80 align-center shimmer"><img src="/images/posts/mingrammer/serverless_processing.png" alt="diagram.png" loading="lazy"></a> <em>End2End with DaC</em></p><h2 id="conclusion"><span class="me-2">Conclusion</span><a href="#conclusion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The Mingrammer is a user-friendly tool that is easy to set up. Unlike the standard components drawing approach in DRAW.IO, DaC uses an interesting alternative to generate diagrams from code definitions. However, it does not support a vector form and is not compatible with the popular DRAW.IO format.</p><p>Let’s summarize some results:</p><h3 id="pros"><span class="me-2">pros:</span><a href="#pros" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>with DaC it’s easy to track changes under VCS<li>big landscape of predefined nodes including onPrem, all Public Cloud providers service<li>supports C4 model<li>simple DSL to map nodes<li>same library can be used in conjunction with programmatic boto3 or other library to query cloud components and render them</ul><h3 id="cons"><span class="me-2">cons:</span><a href="#cons" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>low control over location of elements position on the canvas (once more elements added - the location of all elements can be changed/resized/moved to other side of canvas, etc.)<li>the result is a raster-graphics image format only<li>not a vector format: no possibility to move, align nodes, prettify after generation<li>no possibility to export to popular DRAW.IO format for external edition<li>no layers<li>not possible for offline edition in any editor (result diagram)<li>not possible to extract any part of diagram and import to Draw.io or other editors</ul><h2 id="references-links"><span class="me-2">References (Links)</span><a href="#references-links" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><a href="https://diagrams.mingrammer.com/docs/guides/edge">https://diagrams.mingrammer.com/docs/guides/edge</a><li><a href="https://github.com/mingrammer/diagrams">https://github.com/mingrammer/diagrams</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/aws/">aws</a>, <a href="/categories/diagrams/">diagrams</a>, <a href="/categories/architecture/">architecture</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/aws/" class="post-tag no-text-decoration" >aws</a> <a href="/tags/diagrams/" class="post-tag no-text-decoration" >diagrams</a> <a href="/tags/architecture/" class="post-tag no-text-decoration" >architecture</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Diagrams-as-a-Code%20DaC%20with%20Mingrammer%20for%20Public%20Cloud%20Providers%20and%20Agnostic%20Stacks.%20-%20Engineer's%20Notes&url=https%3A%2F%2Ftsypuk.github.io%2Fposts%2F2023%2F03%2F07%2Fmingrammer.html" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Diagrams-as-a-Code%20DaC%20with%20Mingrammer%20for%20Public%20Cloud%20Providers%20and%20Agnostic%20Stacks.%20-%20Engineer's%20Notes&u=https%3A%2F%2Ftsypuk.github.io%2Fposts%2F2023%2F03%2F07%2Fmingrammer.html" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Ftsypuk.github.io%2Fposts%2F2023%2F03%2F07%2Fmingrammer.html&text=Diagrams-as-a-Code%20DaC%20with%20Mingrammer%20for%20Public%20Cloud%20Providers%20and%20Agnostic%20Stacks.%20-%20Engineer's%20Notes" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Ftsypuk.github.io%2Fposts%2F2023%2F03%2F07%2Fmingrammer.html" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/2025/09/26/multiagnet-n8n-bedrock.html">Orchestrating AI multi-agent infrastructure with AWS Bedrock, OpenAI and n8n</a><li class="text-truncate lh-lg"> <a href="/posts/2025/07/20/elastic-cache-vector.html">Amazon ElastiCache Redis as a Vector Embeddings Storage for Semantic Search in AWS Community Blog posts</a><li class="text-truncate lh-lg"> <a href="/posts/2025/09/17/duckdb-s3.html">Running analytics queries from your machine with Zero-BigData stack needed on top of AWS S3(compressed JSON, Parquet, csv) or other DataSources</a><li class="text-truncate lh-lg"> <a href="/posts/2023/10/02/dynamo-design.html">DynamoDB Table Design Principles - NoSQL Modeling</a><li class="text-truncate lh-lg"> <a href="/posts/2023/10/04/dynamo-one-to-many.html">DynamoDB Table Design Principles - One-To-Many Relationships in NoSQL</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/tags/dynamodb/">dynamodb</a> <a class="post-tag btn btn-outline-primary" href="/tags/git/">git</a> <a class="post-tag btn btn-outline-primary" href="/tags/security/">security</a> <a class="post-tag btn btn-outline-primary" href="/tags/s3/">s3</a> <a class="post-tag btn btn-outline-primary" href="/tags/ecs/">ecs</a> <a class="post-tag btn btn-outline-primary" href="/tags/network/">network</a> <a class="post-tag btn btn-outline-primary" href="/tags/cli/">cli</a> <a class="post-tag btn btn-outline-primary" href="/tags/fargate/">fargate</a> <a class="post-tag btn btn-outline-primary" href="/tags/firehose/">firehose</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/2023/03/21/xra-tracing-2.html" class="post-preview card h-100"><div class="card-body"> <time data-ts="1679407200" data-df="ll" > Mar 21, 2023 </time><h4 class="pt-0 my-2">AWS XRAY tracing. Part 2: Advanced. Querying & Grouping.</h4><div class="text-muted"><p>Abstract Welcome to the next part of our AWS X-Ray series. We’ll explore the flow of trace detection and how to specify different parameters like time ranges. Additionally, we’ll take a deep dive i...</p></div></div></a></article><article class="col"> <a href="/posts/2023/03/01/xra-tracing.html" class="post-preview card h-100"><div class="card-body"> <time data-ts="1677646800" data-df="ll" > Mar 1, 2023 </time><h4 class="pt-0 my-2">AWS XRAY tracing. Part 1: Foundational</h4><div class="text-muted"><p>Abstract Having used AWS xray for a while now, I can attest to its effectiveness as a tracing and monitoring service. It has saved me a significant amount of time, helped troubleshoot complex issu...</p></div></div></a></article><article class="col"> <a href="/posts/2023/02/28/iamlive.html" class="post-preview card h-100"><div class="card-body"> <time data-ts="1677560400" data-df="ll" > Feb 28, 2023 </time><h4 class="pt-0 my-2">IAM LIVE and AWS NUKE: 2 more tools for your Kit</h4><div class="text-muted"><p>Abstract At the 2022 Reinvent conference, a number of open-source CLI tools were unveiled, including IAM Live. This CLI tool functions as a proxy, intercepting AWS CLI requests and automatically ...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/2023/03/01/xra-tracing.html" class="btn btn-outline-primary" aria-label="Older" ><p>AWS XRAY tracing. Part 1: Foundational</p></a> <a href="/posts/2023/03/21/xra-tracing-2.html" class="btn btn-outline-primary" aria-label="Newer" ><p>AWS XRAY tracing. Part 2: Advanced. Querying & Grouping.</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://www.linkedin.com/in/roman-tsypuk">Roman Tsypuk</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span> <span data-bs-toggle="tooltip" data-bs-placement="top" title="2025-09-26 20:11:52 +0300 &#013;be60bb44e6416aa69b8fd68791db025be40c523c">Build version: be60bb4</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.2.4" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/aws/">aws</a> <a class="post-tag btn btn-outline-primary" href="/tags/dynamodb/">dynamodb</a> <a class="post-tag btn btn-outline-primary" href="/tags/git/">git</a> <a class="post-tag btn btn-outline-primary" href="/tags/security/">security</a> <a class="post-tag btn btn-outline-primary" href="/tags/s3/">s3</a> <a class="post-tag btn btn-outline-primary" href="/tags/ecs/">ecs</a> <a class="post-tag btn btn-outline-primary" href="/tags/network/">network</a> <a class="post-tag btn btn-outline-primary" href="/tags/cli/">cli</a> <a class="post-tag btn btn-outline-primary" href="/tags/fargate/">fargate</a> <a class="post-tag btn btn-outline-primary" href="/tags/firehose/">firehose</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'tsypuk/tsypuk.github.io', 'data-repo-id': 'R_kgDOIxaFiw', 'data-category': 'General', 'data-category-id': 'DIC_kwDOIxaFi84CUSfn', 'data-mapping': 'og:title', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'top', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{content}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
